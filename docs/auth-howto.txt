
$Id: auth-howto.txt 5310 2009-01-10 07:57:56Z hami $

新權限規則--補充 (by tad@www.tnc.edu.tw)

發佈者： 不來的彼特 ，公告期限： 2003-09-15
底下是新的限規則，看不懂是正常，看得懂的是異類。


   1. 必須為每個「大分類」設定使用權限。
   2. 分類底下的「模組」自動繼承所屬分類的權限設定
   3. 若是分類底下的某「模組」有額外設定權限，則該模組權限=繼承分類權限設定+額外設定權限。
   4. 分類底下的「次分類」自動繼承所屬分類的權限設定
   5. 若是分類底下的「次分類」有額外設定權限，則該「次分類」權限=額外設定權限，繼承自父分類的權限自動消失。


換個方式說：


   1. 假如「教務」分類有設給A，A就可以在左邊選單看到「教務」分類，否則看不到，當然也不能用該分類以及底下任何模組。
   2. 假如「教務」分類底下有「學校設定模組」，那麼「學校設定模組」不需設定權限，A就可以使用「學校設定模組」。
   3. 若是 B 並沒有使用「教務」分類的權限，但是有開設「學校設定模組」的權限給 B，那麼「學校設定模組」除了可以給 A 用還可以給 B 用，但 B 仍無法使用「教務」分類底下其他的模組，而 A 可以。
   4. 若「教務」分類底下還有「註冊組」的次分類，如果「註冊組」的次分類沒有額外去設定權限，那麼自動繼承「教務」分類的權限設定，也就是 A 也可以使用「註冊組」次分類底下的所有模組。
   5. 若是「教務」分類底下的「註冊組」次分類只想給 C 用，那麼可以將「註冊組」的使用權限設定給 C ，那麼除了 C 以外，任何人都不能進到「註冊組」底下。


目前進度：


    * 目前「額外模組」的功能尚未完成，其他已經OK。
    * 另外『一般權』『管理權』會以別種方式呈現，讓使用者可以自行調整而不需改程式。
    * 以後每個模組都要加上 sfs_check()
    * 以後再寫一些一般人看得懂得規則說明，現在太忙了。


從此以後：


   1. Root 可以暢行無阻。
   2. 不能用的模組或分類就不再列出
   3. 只是要您能「看得見」的分類，底下每個模組以及次分類您都能用，因為不能用的都藏起來了。
   4. 管理者若希望分類底下有某幾個模組只給特定的人用（例如，教務處的人，雖然都可以使用教務底下的模組，但希望註冊功能只給註冊組用），那只要再設定一個次分類（如註冊組），將這幾個模組丟進去，然後，將該次分類設給能用的人（欲使用註冊組的人）就行了。（如此雖然同屬教務處的人，不過若是沒有使用註冊組次分類權限的人，就看不到註冊組分類囉！）
   5. 假如訓導主任沒有使用「教務分類」的權限，但希望教務底下的「教師管理模組」可以給訓導主任使用，那麼可以直接將「教師管理模組」授權給訓導主任，如此，在訓導主任的介面中，他看不到「教務分類」，但會多一個「其他分類」，「教師管理模組」就會放在裡面。換言之，沒有A分類的使用權限，但卻有 A 分類底下 X 模組的使用權限時， A 分類的圖示仍舊不會出現，但會多一個「其他分類」來放置 X 模組。

 發佈日期： 2003-09-15
